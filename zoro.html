<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZORO'S FITNESS ERA</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0a0a0a;
            color: #fff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Animated Background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: 
                radial-gradient(circle at 20% 50%, #1a0033 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, #0d1b2a 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, #1b0a1a 0%, transparent 50%);
            animation: bgPulse 8s ease-in-out infinite;
        }

        @keyframes bgPulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        /* Header */
        header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(180deg, rgba(0,0,0,0.9) 0%, transparent 100%);
            border-bottom: 2px solid #00d4ff;
        }

        h1 {
            font-size: 3.5rem;
            text-transform: uppercase;
            letter-spacing: 5px;
            background: linear-gradient(45deg, #00d4ff, #7b2cbf, #ff006e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(0,212,255,0.5);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { filter: drop-shadow(0 0 20px rgba(0,212,255,0.8)); }
            to { filter: drop-shadow(0 0 40px rgba(123,44,191,0.8)); }
        }

        .subtitle {
            color: #888;
            margin-top: 10px;
            font-size: 1.2rem;
            letter-spacing: 3px;
        }

        /* Stats Bar */
        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 40px;
            padding: 20px;
            background: rgba(0,0,0,0.7);
            border-bottom: 1px solid #333;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            color: #00d4ff;
            font-weight: bold;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
            text-transform: uppercase;
        }

        /* Characters Grid */
        .characters-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .section-title {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 30px;
            color: #00d4ff;
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        .characters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        /* Character Card */
        .character-card {
            background: linear-gradient(145deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .character-card:hover {
            transform: translateY(-5px);
            border-color: #00d4ff;
            box-shadow: 0 10px 40px rgba(0,212,255,0.3);
        }

        .character-card.locked {
            opacity: 0.6;
            filter: grayscale(0.8);
        }

        .character-card.unlocked {
            border-color: #7b2cbf;
        }

        .character-card.max-level {
            border-color: #ffd700;
            box-shadow: 0 0 30px rgba(255,215,0,0.3);
        }

        /* Character Header */
        .char-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .char-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(45deg, #2d1b4e, #1a1a2e);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            border: 3px solid #00d4ff;
            position: relative;
        }

        .char-avatar::after {
            content: '';
            position: absolute;
            inset: -5px;
            border-radius: 50%;
            border: 2px solid transparent;
            border-top-color: #00d4ff;
            animation: spin 3s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .char-info h3 {
            color: #fff;
            font-size: 1.4rem;
            margin-bottom: 5px;
        }

        .char-rank {
            color: #00d4ff;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Level & XP */
        .level-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .level {
            color: #ffd700;
            font-weight: bold;
        }

        .xp-text {
            color: #888;
        }

        .xp-bar {
            height: 10px;
            background: #0a0a0a;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 20px;
            border: 1px solid #333;
        }

        .xp-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            transition: width 0.5s ease;
            position: relative;
        }

        .xp-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* Tasks */
        .tasks-title {
            color: #888;
            font-size: 0.9rem;
            text-transform: uppercase;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        .task {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px;
            background: rgba(0,0,0,0.3);
            border-radius: 8px;
            margin-bottom: 8px;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .task:hover {
            background: rgba(0,212,255,0.1);
            border-color: #00d4ff;
        }

        .task.completed {
            opacity: 0.5;
            text-decoration: line-through;
        }

        .task-checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #00d4ff;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .task.completed .task-checkbox {
            background: #00d4ff;
        }

        .task-checkbox::after {
            content: '‚úì';
            color: #000;
            font-weight: bold;
            opacity: 0;
        }

        .task.completed .task-checkbox::after {
            opacity: 1;
        }

        .task-text {
            flex: 1;
            font-size: 0.95rem;
        }

        .task-xp {
            color: #ffd700;
            font-size: 0.85rem;
            font-weight: bold;
        }

        /* Unlock Overlay */
        .unlock-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0,0,0,0.9);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 15px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .character-card.locked:hover .unlock-overlay {
            opacity: 1;
            pointer-events: all;
        }

        .lock-icon {
            font-size: 3rem;
            color: #ff006e;
        }

        .unlock-text {
            color: #fff;
            text-align: center;
        }

        .unlock-requirement {
            color: #888;
            font-size: 0.9rem;
        }

        /* Special Effects for Toji */
        .toji-special {
            border-color: #ff006e !important;
            box-shadow: 0 0 40px rgba(255,0,110,0.4) !important;
        }

        .toji-special .char-avatar {
            border-color: #ff006e;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 20px rgba(255,0,110,0.5); }
            50% { box-shadow: 0 0 40px rgba(255,0,110,0.8); }
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 2px solid #00d4ff;
            padding: 20px;
            border-radius: 10px;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
            max-width: 300px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-title {
            color: #00d4ff;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .notification-text {
            color: #ccc;
            font-size: 0.9rem;
        }

        /* Level Up Animation */
        .level-up {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            font-size: 4rem;
            color: #ffd700;
            text-shadow: 0 0 50px rgba(255,215,0,0.8);
            pointer-events: none;
            z-index: 1001;
            animation: levelUpPop 1s ease forwards;
        }

        @keyframes levelUpPop {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            .stats-bar { flex-wrap: wrap; gap: 20px; }
            .characters-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="bg-animation"></div>

    <header>
        <h1>‚öîÔ∏è ZORO'S FITNESS ERA ‚öîÔ∏è</h1>
        <p class="subtitle">Level Up Your Body. Unlock Your Power.</p>
    </header>

    <div class="stats-bar">
        <div class="stat">
            <div class="stat-value" id="totalXP">0</div>
            <div class="stat-label">Total XP</div>
        </div>
        <div class="stat">
            <div class="stat-value" id="charactersUnlocked">1</div>
            <div class="stat-label">Unlocked</div>
        </div>
        <div class="stat">
            <div class="stat-value" id="maxLevel">1</div>
            <div class="stat-label">Max Level</div>
        </div>
        <div class="stat">
            <div class="stat-value" id="tasksCompleted">0</div>
            <div class="stat-label">Tasks Done</div>
        </div>
    </div>

    <div class="characters-container">
        <h2 class="section-title">Choose Your Character</h2>
        <div class="characters-grid" id="charactersGrid"></div>
    </div>

    <div class="notification" id="notification">
        <div class="notification-title" id="notifTitle">Level Up!</div>
        <div class="notification-text" id="notifText">Character leveled up!</div>
    </div>

    <script>
        // Character Data - 8 Characters (JJK + Solo Leveling Style)
        const characters = [
            {
                id: 'toji',
                name: 'Toji Fushiguro',
                rank: 'Sorcerer Killer',
                emoji: 'üó°Ô∏è',
                level: 1,
                xp: 0,
                maxXP: 100,
                unlocked: true,
                special: true,
                color: '#ff006e',
                tasks: [
                    { id: 't1', text: '100 Pushups', xp: 20, completed: false },
                    { id: 't2', text: '100 Situps', xp: 20, completed: false },
                    { id: 't3', text: '10km Run', xp: 30, completed: false },
                    { id: 't4', text: 'Cold Shower (Mental Training)', xp: 30, completed: false }
                ]
            },
            {
                id: 'jinwoo',
                name: 'Sung Jinwoo',
                rank: 'Shadow Monarch',
                emoji: 'üëë',
                level: 1,
                xp: 0,
                maxXP: 150,
                unlocked: false,
                unlockRequirement: 'Complete all Toji tasks',
                color: '#00d4ff',
                tasks: [
                    { id: 'j1', text: 'Dungeon Run (5km Sprint)', xp: 40, completed: false },
                    { id: 'j2', text: 'Shadow Training (HIIT)', xp: 35, completed: false },
                    { id: 'j3', text: 'Arise! (Morning Routine)', xp: 25, completed: false },
                    { id: 'j4', text: 'Boss Battle (Heavy Lifting)', xp: 50, completed: false }
                ]
            },
            {
                id: 'gojo',
                name: 'Satoru Gojo',
                rank: 'Strongest Sorcerer',
                emoji: 'üëÅÔ∏è',
                level: 1,
                xp: 0,
                maxXP: 200,
                unlocked: false,
                unlockRequirement: 'Reach Level 3 with Jinwoo',
                color: '#00d4ff',
                tasks: [
                    { id: 'g1', text: 'Infinity Training (Plank 5min)', xp: 50, completed: false },
                    { id: 'g2', text: 'Six Eyes Meditation', xp: 30, completed: false },
                    { id: 'g3', text: 'Domain Expansion (Core Work)', xp: 60, completed: false },
                    { id: 'g4', text: 'Hollow Purple (Sprint Intervals)', xp: 60, completed: false }
                ]
            },
            {
                id: 'yuji',
                name: 'Yuji Itadori',
                rank: 'Vessel',
                emoji: 'üëä',
                level: 1,
                xp: 0,
                maxXP: 120,
                unlocked: false,
                unlockRequirement: 'Complete 10 tasks',
                color: '#ff6b35',
                tasks: [
                    { id: 'y1', text: 'Black Flash (Punching Bag)', xp: 25, completed: false },
                    { id: 'y2', text: 'Divergent Fist (Boxing)', xp: 30, completed: false },
                    { id: 'y3', text: 'Cursed Energy Run', xp: 35, completed: false },
                    { id: 'y4', text: 'Eat Well (Nutrition)', xp: 30, completed: false }
                ]
            },
            {
                id: 'megumi',
                name: 'Megumi Fushiguro',
                rank: 'Grade 2 Sorcerer',
                emoji: 'üê∫',
                level: 1,
                xp: 0,
                maxXP: 130,
                unlocked: false,
                unlockRequirement: 'Reach Level 2 with Toji',
                color: '#7b2cbf',
                tasks: [
                    { id: 'm1', text: 'Ten Shadows (Bodyweight)', xp: 30, completed: false },
                    { id: 'm2', text: 'Divine Dog Run', xp: 25, completed: false },
                    { id: 'm3', text: 'Domain (Yoga & Stretch)', xp: 35, completed: false },
                    { id: 'm4', text: 'Strategic Rest', xp: 40, completed: false }
                ]
            },
            {
                id: 'sukuna',
                name: 'Ryomen Sukuna',
                rank: 'King of Curses',
                emoji: 'üëπ',
                level: 1,
                xp: 0,
                maxXP: 300,
                unlocked: false,
                unlockRequirement: 'Reach Level 5 with any character',
                color: '#ff0000',
                tasks: [
                    { id: 's1', text: 'Shrine Training (Extreme)', xp: 80, completed: false },
                    { id: 's2', text: 'Dismantle (Combat)', xp: 70, completed: false },
                    { id: 's3', text: 'Malevolent Shrine (Endurance)', xp: 100, completed: false },
                    { id: 's4', text: 'Cursed Energy Control', xp: 50, completed: false }
                ]
            },
            {
                id: 'nanami',
                name: 'Kento Nanami',
                rank: 'Grade 1 Sorcerer',
                emoji: 'üî™',
                level: 1,
                xp: 0,
                maxXP: 140,
                unlocked: false,
                unlockRequirement: 'Complete 20 tasks',
                color: '#ffd700',
                tasks: [
                    { id: 'n1', text: 'Overtime Workout', xp: 35, completed: false },
                    { id: 'n2', text: 'Ratio Technique (Calisthenics)', xp: 40, completed: false },
                    { id: 'n3', text: 'Collar (Neck Training)', xp: 25, completed: false },
                    { id: 'n4', text: 'Bread Baking (Patience)', xp: 40, completed: false }
                ]
            },
            {
                id: 'mahito',
                name: 'Mahito',
                rank: 'Special Grade Curse',
                emoji: '‚ò†Ô∏è',
                level: 1,
                xp: 0,
                maxXP: 250,
                unlocked: false,
                unlockRequirement: 'Reach Level 5 with 3 characters',
                color: '#9932cc',
                tasks: [
                    { id: 'ma1', text: 'Idle Transfiguration (Flexibility)', xp: 60, completed: false },
                    { id: 'ma2', text: 'Body Hardening', xp: 70, completed: false },
                    { id: 'ma3', text: 'Domain (0.2s)', xp: 80, completed: false },
                    { id: 'ma4', text: 'Instant Spirit Body', xp: 40, completed: false }
                ]
            }
        ];

        let totalXP = 0;
        let tasksCompleted = 0;

        // Load data from localStorage
        function loadData() {
            const saved = localStorage.getItem('zoroFitnessData');
            if (saved) {
                const data = JSON.parse(saved);
                characters.forEach((char, index) => {
                    if (data.characters[index]) {
                        char.level = data.characters[index].level;
                        char.xp = data.characters[index].xp;
                        char.unlocked = data.characters[index].unlocked;
                        char.tasks = data.characters[index].tasks;
                    }
                });
                totalXP = data.totalXP || 0;
                tasksCompleted = data.tasksCompleted || 0;
            }
        }

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('zoroFitnessData', JSON.stringify({
                characters: characters,
                totalXP: totalXP,
                tasksCompleted: tasksCompleted
            }));
        }

        // Render characters
        function renderCharacters() {
            const grid = document.getElementById('charactersGrid');
            grid.innerHTML = '';

            characters.forEach(char => {
                const card = document.createElement('div');
                card.className = `character-card ${char.unlocked ? 'unlocked' : 'locked'} ${char.special ? 'toji-special' : ''} ${char.level >= 10 ? 'max-level' : ''}`;
                
                const xpPercent = (char.xp / char.maxXP) * 100;
                
                let tasksHTML = char.tasks.map(task => `
                    <div class="task ${task.completed ? 'completed' : ''}" onclick="toggleTask('${char.id}', '${task.id}')">
                        <div class="task-checkbox"></div>
                        <span class="task-text">${task.text}</span>
                        <span class="task-xp">+${task.xp} XP</span>
                    </div>
                `).join('');

                card.innerHTML = `
                    <div class="char-header">
                        <div class="char-avatar" style="border-color: ${char.color}">${char.emoji}</div>
                        <div class="char-info">
                            <h3>${char.name}</h3>
                            <div class="char-rank">${char.rank}</div>
                        </div>
                    </div>
                    <div class="level-info">
                        <span class="level">Level ${char.level}</span>
                        <span class="xp-text">${char.xp}/${char.maxXP} XP</span>
                    </div>
                    <div class="xp-bar">
                        <div class="xp-fill" style="width: ${xpPercent}%"></div>
                    </div>
                    <div class="tasks-title">Daily Quests</div>
                    ${tasksHTML}
                    ${!char.unlocked ? `
                        <div class="unlock-overlay">
                            <div class="lock-icon">üîí</div>
                            <div class="unlock-text">LOCKED</div>
                            <div class="unlock-requirement">${char.unlockRequirement}</div>
                        </div>
                    ` : ''}
                `;

                grid.appendChild(card);
            });

            updateStats();
        }

        // Toggle task completion
        function toggleTask(charId, taskId) {
            const char = characters.find(c => c.id === charId);
            if (!char || !char.unlocked) return;

            const task = char.tasks.find(t => t.id === taskId);
            if (!task) return;

            task.completed = !task.completed;
            
            if (task.completed) {
                char.xp += task.xp;
                totalXP += task.xp;
                tasksCompleted++;
                checkLevelUp(char);
                showNotification('Task Completed!', `${task.text} - +${task.xp} XP`);
            } else {
                char.xp -= task.xp;
                totalXP -= task.xp;
                tasksCompleted--;
            }

            saveData();
            renderCharacters();
            checkUnlocks();
        }

        // Check for level up
        function checkLevelUp(char) {
            if (char.xp >= char.maxXP) {
                char.level++;
                char.xp = char.xp - char.maxXP;
                char.maxXP = Math.floor(char.maxXP * 1.2);
                showLevelUpAnimation();
                showNotification('LEVEL UP!', `${char.name} reached Level ${char.level}!`);
                
                // Check if all tasks completed for bonus
                if (char.tasks.every(t => t.completed)) {
                    setTimeout(() => {
                        showNotification('Perfect Day!', 'All tasks completed! Bonus XP!');
                        char.xp += 50;
                        totalXP += 50;
                        saveData();
                        renderCharacters();
                    }, 1000);
                }
            }
        }

        // Check unlock conditions
        function checkUnlocks() {
            characters.forEach(char => {
                if (!char.unlocked) {
                    let shouldUnlock = false;
                    
                    switch(char.id) {
                        case 'jinwoo':
                            const toji = characters.find(c => c.id === 'toji');
                            if (toji.tasks.every(t => t.completed)) shouldUnlock = true;
                            break;
                        case 'gojo':
                            const jinwoo = characters.find(c => c.id === 'jinwoo');
                            if (jinwoo.level >= 3) shouldUnlock = true;
                            break;
                        case 'yuji':
                            if (tasksCompleted >= 10) shouldUnlock = true;
                            break;
                        case 'megumi':
                            const toji2 = characters.find(c => c.id === 'toji');
                            if (toji2.level >= 2) shouldUnlock = true;
                            break;
                        case 'sukuna':
                            if (characters.some(c => c.level >= 5)) shouldUnlock = true;
                            break;
                        case 'nanami':
                            if (tasksCompleted >= 20) shouldUnlock = true;
                            break;
                        case 'mahito':
                            const highLevelChars = characters.filter(c => c.level >= 5).length;
                            if (highLevelChars >= 3) shouldUnlock = true;
                            break;
                    }

                    if (shouldUnlock) {
                        char.unlocked = true;
                        showNotification('Character Unlocked!', `${char.name} has joined your party!`);
                    }
                }
            });
            saveData();
        }

        // Update stats bar
        function updateStats() {
            document.getElementById('totalXP').textContent = totalXP;
            document.getElementById('charactersUnlocked').textContent = characters.filter(c => c.unlocked).length;
            document.getElementById('maxLevel').textContent = Math.max(...characters.map(c => c.level));
            document.getElementById('tasksCompleted').textContent = tasksCompleted;
        }

        // Show notification
        function showNotification(title, text) {
            const notif = document.getElementById('notification');
            document.getElementById('notifTitle').textContent = title;
            document.getElementById('notifText').textContent = text;
            notif.classList.add('show');
            setTimeout(() => notif.classList.remove('show'), 3000);
        }

        // Show level up animation
        function showLevelUpAnimation() {
            const div = document.createElement('div');
            div.className = 'level-up';
            div.textContent = 'LEVEL UP!';
            document.body.appendChild(div);
            setTimeout(() => div.remove(), 1000);
        }

        // Initialize
        loadData();
        renderCharacters();
        checkUnlocks();

        // Reset button (hidden feature - press R)
        document.addEventListener('keypress', (e) => {
            if (e.key === 'r' || e.key === 'R') {
                if (confirm('Reset all progress?')) {
                    localStorage.removeItem('zoroFitnessData');
                    location.reload();
                }
            }
        });
    </script>
</body>
</html>
